<!--
    view-locations.html : Lising of Locations.
    @author : Arun Sahani
    Date : 08-09-2016
-->

<section class="content">
    <ol class="breadcrumb">
        <li><a href="#!/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Locations</li>
    </ol>
    <h2>
        Manage Locations
    </h2>
    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <div flash-message="5000" ></div> 
                <div class="box-header">

                    <div style="float:left">
<!--                        <div class="input-group" style="width: 150px;">
                            <input type="text" name="table_search" class="form-control input-sm pull-right" placeholder="Search" ng-model="text">
                            <div class="input-group-btn">
                                <button class="btn btn-sm btn-default" type="submit" ng-click="search(text, searchIn)"><i class="fa fa-search"></i></button>
                            </div>
                        </div>-->
                    </div>
                    <a ui-sref="admin.addlocation"  style="float:right">+ Add Location</a>

                </div><!-- /.box-header -->
                <span us-spinner="{radius:30, width:8, length: 16, scale:0.50}"></span>
                <div class="box-body table-responsive no-padding">
                
                    <table class="table table-hover">
                          <div  ng-show ="vm.status.message" uib-alert ng-class="vm.status.class" close="vm.closeAlert()">{{vm.status.message}}</div>
                        <tr ng-if="vm.locationData.length > 0">
                            <th>
                                <!--<a href="javascript:void(0);" ng-click="vm.sort('personalInfo.firstName')">-->
                                     Location Name
<!--                                    <span class ="fa fa-caret-down" ng-show="vm.sortDir == 'desc' && vm.sortBy == 'personalInfo.firstName'"></span>
                                    <span class ="fa fa-caret-up" ng-show="vm.sortDir == 'asc' && vm.sortBy == 'personalInfo.firstName'"></span>
                                   
                                </a>-->
                            </th>
                            <th>
                                <!--<a href="javascript:void(0);" ng-click="vm.sort('email')">-->
                                     Region
<!--                                    <span class ="fa fa-caret-down" ng-show="vm.sortDir == 'desc' && vm.sortBy == 'email'"></span>
                                    <span class ="fa fa-caret-up" ng-show="vm.sortDir == 'asc' && vm.sortBy == 'email'" ></span>
                                   
                                </a>-->
                            </th>
                            <th>
                                Color
                            </th>
                          
                            <th>
                                 <!--<a href="javascript:void(0);">--> 
                                Action
                                 <!--</a>--> 
                            </th>
                        </tr>
                        <tr ng-repeat="location in vm.locationData track by $index" ng-if="vm.locationData.length > 0" id="row_{{$index}}" >

                            <td>{{location.name}}</td>
                           
                            <td>{{location.region}}</td>
                             <td>{{location.colour}}</td>
                            <td>
                                <a href="javascript:void(0);">
                                    <i title="view details" class="fa fa-fw fa-file-o" ui-sref="admin.viewlocation({id: location._id})"></i>
                                </a>
                                <a href="javascript:void(0);">
                                    <i title="Edit" class="fa fa-fw fa-edit" ui-sref="admin.editlocation({id: location._id})"></i>  
                                </a> 
                                <a href="javascript:void(0);">
                                    <i title="Delete" class="fa fa-fw fa-remove" ng-click="vm.deleteLocation(location._id,$index)"></i>
                                </a>
                            </td>
                        </tr>
                         <tr ng-if="vm.locationData.length == 0">
                            <td colspan="6">No record found!!</td>
                        </tr>
                    </table>
                </div><!-- /.box-body -->

                <div class="box-footer clearfix pagination-fix">
                    <ul ng-show="vm.totalItems > 10" uib-pagination items-per-page="vm.pageLimit" total-items="vm.totalItems" ng-model="vm.currentPage" max-size="vm.maxSize" ng-change="vm.setPage(vm.currentPage)"></ul>
                </div>
            </div><!-- /.box -->
        </div>
    </div>
</section>